# ガントチャートツール - 更新内容

## 更新日時
2025年10月24日

## 実装した修正と新機能

### 1. UI修正

#### 「全プロジェクト表示」のバッジ削除
「全プロジェクト表示」ボタンの横に表示されていた「すべてのプロジェクトを比較表示」というバッジテキストを削除しました。これによりUIがすっきりと見やすくなりました。

#### プロジェクト削除時のエラー修正
プロジェクト削除時に表示されていたエラーを修正しました。削除処理の順序を最適化し、選択状態を先にクリアしてからプロジェクトを削除するように変更しました。これにより、削除後にエラーメッセージが表示されることなく、スムーズに削除が完了します。

#### 本日バーの位置修正
「日」表示モードで本日を示す赤いバーの位置がずれていた問題を修正しました。日付の開始時刻（0時）を基準に計算するように変更し、正確な位置に表示されるようになりました。

### 2. マイプロジェクト機能の追加

#### 概要
プロジェクトを「共有プロジェクト」と「マイプロジェクト」の2種類に分けて管理できるようになりました。

#### 共有プロジェクト
- 全てのユーザーが閲覧・編集できるプロジェクト
- チーム全体で共有するプロジェクトに適しています
- サイドバーで「共有」タブを選択すると表示されます

#### マイプロジェクト
- 作成したユーザー本人のみが閲覧・編集できる個人用プロジェクト
- 自分だけのタスク管理に適しています
- サイドバーで「マイ」タブを選択すると表示されます
- マイプロジェクトは緑色のハイライトで表示されます

#### 使い方

**共有プロジェクトの作成:**
1. サイドバーで「共有」タブを選択
2. 「+」ボタンまたは「プロジェクトを作成」ボタンをクリック
3. プロジェクト名と説明を入力
4. 「作成」ボタンをクリック

**マイプロジェクトの作成:**
1. サイドバーで「マイ」タブを選択
2. 「+」ボタンまたは「プロジェクトを作成」ボタンをクリック
3. プロジェクト名と説明を入力
4. 「作成」ボタンをクリック

**プロジェクトの切り替え:**
- サイドバーの「共有」「マイ」ボタンをクリックすることで、表示するプロジェクトの種類を切り替えられます

### 3. バックエンドの変更

#### データベーススキーマの更新
Projectモデルに以下のフィールドを追加しました:
- `owner_id`: プロジェクトの所有者（ユーザーID）
- `is_personal`: 個人用プロジェクトかどうかを示すフラグ

#### APIエンドポイントの追加
- `GET /api/projects`: 共有プロジェクトのみを取得
- `GET /api/projects/personal`: 現在のユーザーのマイプロジェクトを取得

#### 権限管理
- マイプロジェクトは作成者のみが編集・削除できます
- 共有プロジェクトは全てのユーザーが編集・削除できます

## 既存機能の保持

以下の機能は全て保持されています:
- ログイン・ログアウト機能
- 管理者画面（ユーザー管理）
- タスク管理（作成、編集、削除）
- タスクの担当者選択
- ガントチャート表示（年・月・週・日）
- 進捗管理
- マイルストーン設定

## 動作確認済み

- 共有プロジェクトの作成・表示
- マイプロジェクトの作成・表示
- プロジェクトの切り替え
- プロジェクトの削除（エラーなし）
- 本日バーの正確な表示

## アクセス情報

**URL**: https://5000-ik29po1ycmc8hobr5yqo7-26c094e1.manus-asia.computer

**管理者アカウント**:
- メールアドレス: `admin@gantt.local`
- パスワード: `Admin@2024`

