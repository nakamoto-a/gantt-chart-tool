# ガントチャートツール デプロイ手順書

## プロジェクト概要

このガントチャートツールは、**React + Vite**で構築されたフロントエンドと、**Flask + SQLite**で構築されたバックエンドから成る、フルスタックWebアプリケーションです。

## デプロイ済みURL

**公開URL:** https://5000-ik29po1ycmc8hobr5yqo7-26c094e1.manus-asia.computer

このURLからガントチャートツールにアクセスできます。

## プロジェクト構成

```
/home/ubuntu/gantt-chart-tool/
├── frontend/              # フロントエンドソースコード
│   ├── src/
│   │   ├── components/   # Reactコンポーネント
│   │   │   ├── App.jsx
│   │   │   ├── App.css
│   │   │   ├── GanttChart.jsx
│   │   │   ├── ProjectModal.jsx
│   │   │   ├── TaskModal.jsx
│   │   │   └── ui/       # UIコンポーネント
│   │   ├── lib/          # ユーティリティ
│   │   │   ├── api.js
│   │   │   └── utils.js
│   │   └── main.jsx      # エントリーポイント
│   ├── dist/             # ビルド済みファイル
│   ├── package.json
│   └── vite.config.js
├── src/                  # バックエンドソースコード
│   ├── models/           # データベースモデル
│   │   ├── user.py
│   │   ├── project.py
│   │   └── task.py
│   └── routes/           # APIルート
│       ├── user.py
│       ├── project.py
│       └── task.py
├── static/               # 静的ファイル（フロントエンドのビルド結果）
├── database/             # SQLiteデータベース
│   └── app.db
├── main.py               # Flaskアプリケーションのエントリーポイント
└── requirements.txt      # Pythonの依存関係
```

## 主な機能

1. **プロジェクト管理**
   - プロジェクトの作成、編集、削除
   - プロジェクト一覧の表示

2. **タスク管理**
   - タスクの作成、編集、削除
   - タスクの進捗管理（0-100%）
   - マイルストーンの設定
   - 担当者の割り当て
   - メモの追加

3. **ガントチャート表示**
   - 年、月、週、日の表示モード切り替え
   - タスクの視覚的な表示
   - スクロール同期

## デプロイ手順

### 1. 依存関係のインストール

#### バックエンド（Python）
```bash
cd /home/ubuntu/gantt-chart-tool
sudo pip3 install -r requirements.txt
```

#### フロントエンド（Node.js）
```bash
cd /home/ubuntu/gantt-chart-tool/frontend
pnpm install
```

### 2. フロントエンドのビルド

```bash
cd /home/ubuntu/gantt-chart-tool/frontend
pnpm build
```

ビルドされたファイルは `frontend/dist/` ディレクトリに出力されます。

### 3. 静的ファイルのコピー

```bash
cd /home/ubuntu/gantt-chart-tool
mkdir -p static
cp -r frontend/dist/* static/
```

### 4. サーバーの起動

#### 開発環境（Flask開発サーバー）
```bash
cd /home/ubuntu/gantt-chart-tool
python3.11 main.py
```

#### 本番環境（Gunicorn）
```bash
cd /home/ubuntu/gantt-chart-tool
gunicorn -w 4 -b 0.0.0.0:5000 main:app --daemon --access-logfile access.log --error-logfile error.log
```

### 5. ポートの公開

サンドボックス環境でポート5000を公開し、外部からアクセスできるようにします。

## データベース

SQLiteデータベースは、アプリケーション起動時に自動的に作成されます。データベースファイルは `/home/ubuntu/gantt-chart-tool/database/app.db` に保存されます。

### テーブル構成

- **User**: ユーザー情報
- **Project**: プロジェクト情報
- **Task**: タスク情報（プロジェクトに紐づく）

## API エンドポイント

### プロジェクト
- `GET /api/projects` - プロジェクト一覧取得
- `POST /api/projects` - プロジェクト作成
- `GET /api/projects/{id}` - プロジェクト詳細取得
- `PUT /api/projects/{id}` - プロジェクト更新
- `DELETE /api/projects/{id}` - プロジェクト削除

### タスク
- `GET /api/projects/{project_id}/tasks` - タスク一覧取得
- `POST /api/projects/{project_id}/tasks` - タスク作成
- `GET /api/tasks/{id}` - タスク詳細取得
- `PUT /api/tasks/{id}` - タスク更新
- `DELETE /api/tasks/{id}` - タスク削除

## トラブルシューティング

### ポートが既に使用されている場合

```bash
# ポート5000を使用しているプロセスを確認
sudo lsof -i :5000

# プロセスを終了
sudo kill -9 <PID>
```

### フロントエンドのビルドエラー

インポートパスが正しいか確認してください。特に以下の点に注意：
- `@/components/ui/*` は `vite.config.js` でエイリアス設定されています
- 相対パスは正しいディレクトリ構造に基づいて設定されています

### データベースエラー

データベースファイルを削除して再起動すると、新しいデータベースが作成されます：
```bash
rm /home/ubuntu/gantt-chart-tool/database/app.db
```

## 今後の改善点

1. **認証機能の追加**: 現在はユーザー認証がありません
2. **データのエクスポート**: プロジェクトやタスクをCSV/JSONでエクスポート
3. **通知機能**: タスクの期限が近づいたら通知
4. **ドラッグ&ドロップ**: ガントチャート上でタスクを直接編集
5. **レスポンシブデザインの改善**: モバイル対応の強化

## まとめ

ガントチャートツールのデプロイが完了しました。上記のURLからアクセスして、プロジェクトやタスクを管理できます。

